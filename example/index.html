<!DOCTYPE html>
<html>
<head>
  <title>CupJS</title>
  <script src="../dist/mobs.js"></script>
</head>
<body>
  <div id="app">
    {{title}} 
    {{description}}
    <controller name="main">
      <h1>{{name}}</h1>
    </controller>
  </div>
  

<script>
  var utils = cupsjs.constructor.utils
  cupsjs.module("app",{
    initialize: function (router, userID, ctx) {
      
      ctx.title = "Hello, world!"
      
      ctx.description = utils.delay(1000).then(function () {
        return "Ta da!"
      })
      
      this.module('router')
    }
  }).controller('main', function (ctx) {
      console.log(ctx)
      ctx.name = "Hello"
    
  })

  cupsjs.service('router', function (config) {
    console.log('this is a coool router', config)
    this.config = config
  }, {config: 'yessir'})

  
  var app = cupsjs.module('app')
  app.service('userID', 'det er det der t√¶ller')

  var router = cupsjs._container.get('router', 'cupsjs')

  
  app.create({el:document.getElementById('app')}).then(function (app) {
    console.log('app',app)
  })

</script>
</body>
</html>